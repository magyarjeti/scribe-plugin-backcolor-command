define("scribe-plugin-backcolor-command",["exports"],function(e){"use strict";e["default"]=function(){return function(e){var n=new e.api.Command("backColor"),t=function(e){for(var n=0;n<e.childNodes.length;n++){var o=e.childNodes[n];if(1===o.nodeType&&(o.style.backgroundColor="",t(o),1==o.attributes.length&&!o.getAttribute("style"))){for(;o.childNodes.length>0;)e.insertBefore(o.firstChild,o);e.removeChild(o),n--}}e.normalize()};n.execute=function(n){var o=new e.api.Selection,r=o.range,i=r.extractContents(),a=document.createElement("span");a.style.backgroundColor=n,e.transactionManager.run(function(){t(i),r.insertNode(i),r.surroundContents(a)}.bind(this))},e.commands.backColor=n}}});